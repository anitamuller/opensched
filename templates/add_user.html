{%- extends 'index.html' -%}
{%- block head -%}
{%- include 'head.html' -%}
{%- block additional_css -%}
<link href="{{ url_for('static', filename='css/plugins/metisMenu/metisMenu.min.css') }}" rel="stylesheet" media="screen">
<link href="{{ url_for('static', filename='css/sb-admin-2.css') }}" rel="stylesheet" media="screen">
<link href="{{ url_for('static', filename='font-awesome-4.1.0/css/font-awesome.min.css') }}" rel="stylesheet" media="screen">
{%- endblock -%}
{%- endblock -%}
{%- block body -%}
<div id="wrapper">
   {%- include 'side_nav.html' -%}
   <div id="page-wrapper">
      <div class="clearfix">
         <div class="row">
            <div class="col-lg-8">
               <div class="page-header">
                  <h1>Add User</h1>
               </div>
               <div class="content">
                  {%- with messages = get_flashed_messages(with_categories=True) -%}
                  {%- if messages -%}
                  {%- for category, message in messages -%}
                  <div class="response">
                     <span class="message {{ category }}">{%- if category == 'success' -%}âœ”{%- endif -%}&nbsp;{{ message }}</span>
                  </div>
                  {%- endfor -%}
                  {%- endif -%}
                  {%- endwith -%}
                  <form class="form-user" role="form" method="post" action="{{ url_for('save_user') }}">
                     <div class="photo-user">
                        <img src="{{ gravatar_url }}" class="img-circle">
                     </div>
                     <div>
                        <fieldset>
                           <div class="form-group {% if error and error_type == 'validate' %}has-error{% endif %}">
                              {%- if error and error_type == 'validate' -%}
                              <label class="control-label" for="user-id">Required field</label>
                              {%- endif -%}
                              <input type="text" class="form-control" name="user-id" id="user-id" placeholder="Username" value="" required autocomplete="off">
                           </div>
                           <div class="form-group {% if error and error_type == 'validate' %}has-error{% endif %}">
                              {%- if error and error_type == 'validate' -%}
                              <label class="control-label" for="user-name">Required field</label>
                              {%- endif -%}
                              <input type="text" class="form-control" name="user-name" id="user-name" placeholder="Name" value="" required autocomplete="off">
                           </div>
                           <div class="form-group {% if error and error_type == 'validate' %}has-error{% endif %}">
                              {%- if error and error_type == 'validate' -%}
                              <label class="control-label" for="user-email">Required field</label>
                              {%- endif -%}
                              <input type="email" class="form-control" name="user-email" id="user-email" placeholder="Email" value="" required autocomplete="off">
                           </div>
                        </fieldset>
                        <fieldset>
                           <legend>Password section</legend>
                           <div class="form-group {% if error and error_type == 'validate' %}has-error{% endif %}">
                              {%- if error and error_type == 'validate' -%}
                              <label class="control-label" for="user-new-password">Required field</label>
                              {%- endif -%}
                              <input type="password" class="form-control" name="user-new-password" id="user-new-password" placeholder="Password" value="" required autocomplete="off">
                           </div>
                           <div class="form-group {% if error and error_type == 'validate' %}has-error{% endif %}">
                              {%- if error and error_type == 'validate' -%}
                              <label class="control-label" for="user-new-password-again">Required field</label>
                              {%- endif -%}
                              <input type="password" class="form-control" name="user-new-password-again" id="user-new-password-again" placeholder="Repeat Password" value="" required autocomplete="off">
                           </div>
                        </fieldset>
                        <fieldset>
                           <legend>Role</legend>
                           <div class="form-group">
                              <select name="user-role" width="300px">
                                 {% for option in role_list %}
                                 <option name="{{ option }}" selected>{{ option }}</option>
                                 {% endfor %}
                              </select>
                           </div>
                        </fieldset>
                        <div class="form-group">
                           <input name="_csrf_token" type="hidden" value="{{ csrf_token() }}">
                           <input name="user-active" type="hidden" value="1">
                           <input id="post-submit" type="submit" class="btn btn-primary" value="Submit">
                        </div>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
{%- endblock -%}
{%- block scripts -%}
<script src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<!-- Metis Menu Plugin JavaScript -->
<script src="{{ url_for('static', filename='js/plugins/metisMenu/metisMenu.min.js') }}"></script>
<!-- Custom Theme JavaScript -->
<script src="{{ url_for('static', filename='js/sb-admin-2.js') }}"></script>
{%- endblock -%}