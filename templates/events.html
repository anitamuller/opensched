{%- extends 'index.html' -%}
{%- block head -%}
{%- include 'head.html' -%}
{%- block additional_css -%}
<link href="{{ url_for('static', filename='css/plugins/metisMenu/metisMenu.min.css') }}" rel="stylesheet" media="screen">
<link href="{{ url_for('static', filename='css/sb-admin-2.css') }}" rel="stylesheet" media="screen">
<link href="{{ url_for('static', filename='font-awesome-4.1.0/css/font-awesome.min.css') }}" rel="stylesheet" media="screen">
{%- endblock -%}
{%- endblock -%}
{%- block body -%}
<div id="wrapper">
   {%- include 'side_nav.html' -%}
   <div id="page-wrapper">
      <div class="event">
         <div class="row">
            <div class="col-lg-12">
               {%- if events -%}
               <div class="page-header">
                  <h1>Events</h1>
               </div>
               <div class="content">
                  {%- with messages = get_flashed_messages(with_categories=True) -%}
                  {%- if messages -%}
                  {%- for category, message in messages -%}
                  <div class="response">
                     <span class="message {{ category }}">{%- if category == 'success' -%}âœ”{%- endif -%}&nbsp;{{ message }}</span>
                  </div>
                  {%- endfor -%}
                  {%- endif -%}
                  {%- endwith -%}
                  <a href="{{ url_for('new_event') }}" class="response btn btn-primary">Add new</a>
                  <table class="table table-striped">
                     <tr>
                        <th>Name</th>
                        <th>Summary</th>
                        <th>Start date</th>
                        <th>End date</th>
                        <th>Venue</th>
                        <th>Action</th>
                     </tr>
                     {%- for event in events -%}
                     <tr>
                        <td><a title="Preview" href="{{ url_for('single_event', permalink=event['permalink']) }}" data-target="_blank">{{ event['name'] }}</a></td>
                        <td>{{ event['summary'] }}</td>
                        <td>{{ event['start'] }}</td>
                        <td>{{ event['end'] }}</td>
                        <td>{{ event['venue'] }}</td>
                        <td><a title="Edit" href="{{ url_for('event_edit', id=event['id']) }}" class="icon-edit-sign bigger icon"></a>
                           {%- if events|length >= 1 -%}&nbsp;&nbsp;
                           <a title="Delete" href="{{ url_for('event_del', id=event['id']) }}" class="icon-remove-sign bigger icon"></a>
                           {%- endif -%}
                        </td>
                     </tr>
                     {%- endfor -%}
                  </table>
               </div>
               {%- else -%}
               <div class="page-header">
                  <h1>Events not found...</h1>
               </div>
               {%- endif -%}
            </div>
         </div>
      </div>
   </div>
</div>
{%- endblock -%}
{%- block scripts -%}
<script src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<!-- Metis Menu Plugin JavaScript -->
<script src="{{ url_for('static', filename='js/plugins/metisMenu/metisMenu.min.js') }}"></script>
<!-- Custom Theme JavaScript -->
<script src="{{ url_for('static', filename='js/sb-admin-2.js') }}"></script>
{%- endblock -%}